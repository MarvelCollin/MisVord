[2025-06-26 10:58:27] INFO [36e36b] Application starting - Context: {"version":"1.0.0","environment":"development","timestamp":"2025-06-26 10:58:27"}
[2025-06-26 10:58:27] WARNING [36e36b] PHP Warning: Undefined array key "REQUEST_URI" - Context: {"file":"C:\\BINUS\\CASEMAKE\\MisVord - BP WDP 25-2\\App\\public\\router.php","line":9,"severity":2}
[2025-06-26 10:58:27] WARNING [36e36b] PHP Warning: Undefined array key "REQUEST_URI" - Context: {"file":"C:\\BINUS\\CASEMAKE\\MisVord - BP WDP 25-2\\App\\public\\router.php","line":38,"severity":2}
[2025-06-26 08:38:00] DEBUG [8f1fcc] Connecting to database - Context: {"host":"localhost","port":"1003","database":"misvord","charset":"utf8mb4"}
[2025-06-26 08:38:01] INFO [8f1fcc] Database connected successfully - Context: {"database":"misvord"}
[2025-06-26 08:38:01] DEBUG [8f1fcc] DB Query: SELECT * FROM message_reactions LIMIT 1 - Duration: 45.70ms - Context: {"bindings":[],"result_count":1,"db_query":"SELECT * FROM message_reactions LIMIT 1","db_duration":0.04570293426513672}
[2025-06-26 08:38:01] DEBUG [8f1fcc] Connecting to database - Context: {"host":"localhost","port":"1003","database":"misvord","charset":"utf8mb4"}
[2025-06-26 08:38:01] INFO [8f1fcc] Database connected successfully - Context: {"database":"misvord"}
[2025-06-26 08:55:05] DEBUG [927268] Controller instantiated - Context: {"controller":"ChatController","request_uri":"","request_method":"POST","is_ajax":"no"}
[2025-06-26 08:55:05] DEBUG [927268] Connecting to database - Context: {"host":"localhost","port":"1003","database":"misvord","charset":"utf8mb4"}
[2025-06-26 08:55:05] INFO [927268] Database connected successfully - Context: {"database":"misvord"}
[2025-06-26 08:55:05] DEBUG [927268] Connecting to database - Context: {"host":"localhost","port":"1003","database":"misvord","charset":"utf8mb4"}
[2025-06-26 08:55:05] INFO [927268] Database connected successfully - Context: {"database":"misvord"}
[2025-06-26 08:55:05] DEBUG [927268] Connecting to database - Context: {"host":"localhost","port":"1003","database":"misvord","charset":"utf8mb4"}
[2025-06-26 08:55:05] INFO [927268] Database connected successfully - Context: {"database":"misvord"}
[2025-06-26 08:55:05] DEBUG [927268] DB Query: SELECT * FROM channels WHERE  id = ? LIMIT 1 - Duration: 49.18ms - Context: {"bindings":["1"],"found":true,"db_query":"SELECT * FROM channels WHERE  id = ? LIMIT 1","db_duration":0.04917502403259277}
[2025-06-26 08:55:05] DEBUG [927268] Connecting to database - Context: {"host":"localhost","port":"1003","database":"misvord","charset":"utf8mb4"}
[2025-06-26 08:55:05] INFO [927268] Database connected successfully - Context: {"database":"misvord"}
[2025-06-26 08:55:05] DEBUG [927268] DB Query: SELECT * FROM user_server_memberships WHERE  user_id = ? AND server_id = ? LIMIT 1 - Duration: 51.91ms - Context: {"bindings":[1,1],"found":true,"db_query":"SELECT * FROM user_server_memberships WHERE  user_id = ? AND server_id = ? LIMIT 1","db_duration":0.0519099235534668}
[2025-06-26 08:55:05] DEBUG [927268] Connecting to database - Context: {"host":"localhost","port":"1003","database":"misvord","charset":"utf8mb4"}
[2025-06-26 08:55:05] INFO [927268] Database connected successfully - Context: {"database":"misvord"}
[2025-06-26 08:55:05] DEBUG [927268] DB Query: INSERT INTO messages (`content`, `user_id`, `message_type`, `attachment_url`, `sent_at`, `updated_at... - Duration: 70.45ms - Context: {"table":"messages","data":{"content":"Test message with potential reactions","user_id":1,"message_type":"text","attachment_url":null,"sent_at":"2025-06-26 08:55:05","updated_at":"2025-06-26 08:55:05","created_at":"2025-06-26 08:55:05"},"insert_id":"142","affected_rows":1,"db_query":"INSERT INTO messages (`content`, `user_id`, `message_type`, `attachment_url`, `sent_at`, `updated_at`, `created_at`) VALUES (?, ?, ?, ?, ?, ?, ?)","db_duration":0.07044792175292969}
[2025-06-26 08:55:05] DEBUG [927268] Connecting to database - Context: {"host":"localhost","port":"1003","database":"misvord","charset":"utf8mb4"}
[2025-06-26 08:55:05] INFO [927268] Database connected successfully - Context: {"database":"misvord"}
[2025-06-26 08:55:05] DEBUG [927268] DB Query: INSERT INTO channel_messages (`channel_id`, `message_id`) VALUES (?, ?) - Duration: 67.89ms - Context: {"table":"channel_messages","data":{"channel_id":"1","message_id":"142"},"insert_id":"13","affected_rows":1,"db_query":"INSERT INTO channel_messages (`channel_id`, `message_id`) VALUES (?, ?)","db_duration":0.06788897514343262}
[2025-06-26 08:55:05] DEBUG [927268] Connecting to database - Context: {"host":"localhost","port":"1003","database":"misvord","charset":"utf8mb4"}
[2025-06-26 08:55:05] INFO [927268] Database connected successfully - Context: {"database":"misvord"}
[2025-06-26 08:55:05] DEBUG [927268] DB Query: SELECT * FROM users WHERE  id = ? LIMIT 1 - Duration: 45.33ms - Context: {"bindings":[1],"found":true,"db_query":"SELECT * FROM users WHERE  id = ? LIMIT 1","db_duration":0.04533219337463379}
[2025-06-26 10:06:24] DEBUG [05cdf0] Connecting to database - Context: {"host":"localhost","port":"1003","database":"misvord","charset":"utf8mb4"}
[2025-06-26 10:06:24] INFO [05cdf0] Database connected successfully - Context: {"database":"misvord"}
[2025-06-26 10:06:24] DEBUG [05cdf0] DB Query: SELECT * FROM users WHERE  status != ? LIMIT 3 - Duration: 44.82ms - Context: {"bindings":["bot"],"result_count":3,"db_query":"SELECT * FROM users WHERE  status != ? LIMIT 3","db_duration":0.04482412338256836}
[2025-06-26 10:06:24] DEBUG [05cdf0] Connecting to database - Context: {"host":"localhost","port":"1003","database":"misvord","charset":"utf8mb4"}
[2025-06-26 10:06:24] INFO [05cdf0] Database connected successfully - Context: {"database":"misvord"}
[2025-06-26 10:06:24] DEBUG [05cdf0] DB Query: SELECT * FROM users WHERE  status != ? ORDER BY created_at DESC LIMIT 3 OFFSET 0 - Duration: 43.37ms - Context: {"bindings":["bot"],"result_count":3,"db_query":"SELECT * FROM users WHERE  status != ? ORDER BY created_at DESC LIMIT 3 OFFSET 0","db_duration":0.04337120056152344}
[2025-06-26 10:06:24] DEBUG [05cdf0] Connecting to database - Context: {"host":"localhost","port":"1003","database":"misvord","charset":"utf8mb4"}
[2025-06-26 10:06:24] INFO [05cdf0] Database connected successfully - Context: {"database":"misvord"}
[2025-06-26 10:06:24] DEBUG [05cdf0] DB Query: SELECT * FROM users WHERE  status != ? LIMIT 1 - Duration: 50.92ms - Context: {"bindings":["bot"],"found":true,"db_query":"SELECT * FROM users WHERE  status != ? LIMIT 1","db_duration":0.0509190559387207}
[2025-06-26 10:06:24] DEBUG [05cdf0] Controller instantiated - Context: {"controller":"AdminController","request_uri":"/api/admin/users","request_method":"GET","is_ajax":"yes"}
[2025-06-26 10:06:24] DEBUG [05cdf0] Connecting to database - Context: {"host":"localhost","port":"1003","database":"misvord","charset":"utf8mb4"}
[2025-06-26 10:06:24] INFO [05cdf0] Database connected successfully - Context: {"database":"misvord"}
[2025-06-26 10:06:24] DEBUG [05cdf0] DB Query: SELECT * FROM users WHERE  id = ? LIMIT 1 - Duration: 51.50ms - Context: {"bindings":[1],"found":true,"db_query":"SELECT * FROM users WHERE  id = ? LIMIT 1","db_duration":0.051496028900146484}
[2025-06-26 10:07:41] DEBUG [d9b22f] Connecting to database - Context: {"host":"localhost","port":"1003","database":"misvord","charset":"utf8mb4"}
[2025-06-26 10:07:41] INFO [d9b22f] Database connected successfully - Context: {"database":"misvord"}
[2025-06-26 10:07:41] DEBUG [d9b22f] DB Query: SELECT * FROM users WHERE  email = ? LIMIT 1 - Duration: 46.66ms - Context: {"bindings":["admin@admin.com"],"found":false,"db_query":"SELECT * FROM users WHERE  email = ? LIMIT 1","db_duration":0.046658992767333984}
[2025-06-26 10:07:41] DEBUG [d9b22f] DB Query: INSERT INTO users (`username`, `discriminator`, `email`, `password`, `status`, `display_name`, `crea... - Duration: 14.34ms - Context: {"table":"users","data":{"username":"Admin","discriminator":"0000","email":"admin@admin.com","password":"$2y$10$rCeiQCGv.TJv2YYYJrwTneWPHrA3mP9jW9LKbEnrIuq16W5w4wh1K","status":"online","display_name":"Admin","created_at":"2025-06-26 10:07:41","updated_at":"2025-06-26 10:07:41"},"insert_id":"35","affected_rows":1,"db_query":"INSERT INTO users (`username`, `discriminator`, `email`, `password`, `status`, `display_name`, `created_at`, `updated_at`) VALUES (?, ?, ?, ?, ?, ?, ?, ?)","db_duration":0.014344930648803711}
[2025-06-26 10:07:41] DEBUG [d9b22f] Controller instantiated - Context: {"controller":"AdminController","request_uri":"/api/admin/users","request_method":"GET","is_ajax":"yes"}
[2025-06-26 10:07:41] DEBUG [d9b22f] Connecting to database - Context: {"host":"localhost","port":"1003","database":"misvord","charset":"utf8mb4"}
[2025-06-26 10:07:41] INFO [d9b22f] Database connected successfully - Context: {"database":"misvord"}
[2025-06-26 10:07:41] DEBUG [d9b22f] DB Query: SELECT * FROM users WHERE  status != ? ORDER BY created_at DESC LIMIT 3 OFFSET 0 - Duration: 43.19ms - Context: {"bindings":["bot"],"result_count":3,"db_query":"SELECT * FROM users WHERE  status != ? ORDER BY created_at DESC LIMIT 3 OFFSET 0","db_duration":0.04319310188293457}
[2025-06-26 10:07:41] DEBUG [d9b22f] Connecting to database - Context: {"host":"localhost","port":"1003","database":"misvord","charset":"utf8mb4"}
[2025-06-26 10:07:41] INFO [d9b22f] Database connected successfully - Context: {"database":"misvord"}
[2025-06-26 10:07:41] DEBUG [d9b22f] API Response sent - Context: {"structure":"{\n    \"success\": true,\n    \"timestamp\": \"2025-06-26 10:07:41\",\n    \"message\": \"Success\",\n    \"data\": {\n        \"users\": [\n            {},\n            {},\n            {}\n        ],\n        \"pagination\": {\n            \"total\": 4,\n            \"page\": 1,\n            \"limit\": 3,\n            \"pages\": 2\n        }\n    }\n}","controller":"AdminController","uri":"/api/admin/users","data_keys":["users","pagination"]}
[2025-06-26 10:08:28] DEBUG [ce713e] Connecting to database - Context: {"host":"localhost","port":"1003","database":"misvord","charset":"utf8mb4"}
[2025-06-26 10:08:28] INFO [ce713e] Database connected successfully - Context: {"database":"misvord"}
[2025-06-26 10:08:29] DEBUG [ce713e] DB Query: SELECT * FROM users WHERE  status != ? LIMIT 1 - Duration: 48.87ms - Context: {"bindings":["bot"],"found":true,"db_query":"SELECT * FROM users WHERE  status != ? LIMIT 1","db_duration":0.04887104034423828}
[2025-06-26 10:08:29] DEBUG [ce713e] Connecting to database - Context: {"host":"localhost","port":"1003","database":"misvord","charset":"utf8mb4"}
[2025-06-26 10:08:29] INFO [ce713e] Database connected successfully - Context: {"database":"misvord"}
[2025-06-26 10:08:29] DEBUG [ce713e] DB Query: SELECT * FROM users WHERE  status != ? ORDER BY created_at DESC LIMIT 1 OFFSET 0 - Duration: 51.39ms - Context: {"bindings":["bot"],"result_count":1,"db_query":"SELECT * FROM users WHERE  status != ? ORDER BY created_at DESC LIMIT 1 OFFSET 0","db_duration":0.05138802528381348}
[2025-06-26 10:12:07] DEBUG [71ea1b] Connecting to database - Context: {"host":"localhost","port":"1003","database":"misvord","charset":"utf8mb4"}
[2025-06-26 10:12:07] INFO [71ea1b] Database connected successfully - Context: {"database":"misvord"}
[2025-06-26 10:12:07] DEBUG [71ea1b] DB Query: SELECT * FROM users WHERE  status != ? LIMIT 1 - Duration: 46.55ms - Context: {"bindings":["bot"],"found":true,"db_query":"SELECT * FROM users WHERE  status != ? LIMIT 1","db_duration":0.04655289649963379}
[2025-06-26 10:12:07] DEBUG [71ea1b] Connecting to database - Context: {"host":"localhost","port":"1003","database":"misvord","charset":"utf8mb4"}
[2025-06-26 10:12:07] INFO [71ea1b] Database connected successfully - Context: {"database":"misvord"}
[2025-06-26 10:12:07] DEBUG [71ea1b] DB Query: SELECT * FROM users WHERE  status != ? ORDER BY created_at DESC LIMIT 1 OFFSET 0 - Duration: 55.19ms - Context: {"bindings":["bot"],"result_count":1,"db_query":"SELECT * FROM users WHERE  status != ? ORDER BY created_at DESC LIMIT 1 OFFSET 0","db_duration":0.055191993713378906}
[2025-06-26 10:45:55] DEBUG [3c632c] Controller instantiated - Context: {"controller":"AdminController","request_uri":"","request_method":"GET","is_ajax":"no"}
[2025-06-26 10:45:55] DEBUG [3c632c] Connecting to database - Context: {"host":"localhost","port":"1003","database":"misvord","charset":"utf8mb4"}
[2025-06-26 10:45:55] INFO [3c632c] Database connected successfully - Context: {"database":"misvord"}
[2025-06-26 10:45:55] DEBUG [3c632c] DB Query: SELECT * FROM users WHERE  status != ? AND email != ? ORDER BY created_at DESC LIMIT 10 OFFSET 0 - Duration: 45.39ms - Context: {"bindings":["bot","admin@admin.com"],"result_count":3,"db_query":"SELECT * FROM users WHERE  status != ? AND email != ? ORDER BY created_at DESC LIMIT 10 OFFSET 0","db_duration":0.04539299011230469}
[2025-06-26 10:45:55] DEBUG [3c632c] Connecting to database - Context: {"host":"localhost","port":"1003","database":"misvord","charset":"utf8mb4"}
[2025-06-26 10:45:55] INFO [3c632c] Database connected successfully - Context: {"database":"misvord"}
[2025-06-26 10:45:55] DEBUG [3c632c] API Response sent - Context: {"structure":"{\n    \"success\": true,\n    \"timestamp\": \"2025-06-26 10:45:55\",\n    \"message\": \"Success\",\n    \"data\": {\n        \"users\": [\n            {\n                \"id\": 34,\n                \"username\": \"kolina\",\n                \"discriminator\": \"3509\",\n                \"email\": \"kolina@gmail.com\",\n                \"status\": \"active\",\n                \"display_name\": \"kolina\",\n                \"avatar_url\": \"\\/public\\/storage\\/34_685c2cefa47d2_avatar.png\",\n                \"banner_url\": null,\n                \"bio\": \"\",\n                \"created_at\": \"2025-06-25 14:59:42\",\n                \"updated_at\": \"2025-06-25 14:59:42\"\n            },\n            {\n                \"id\": 2,\n                \"username\": \"titi\",\n                \"discriminator\": \"2478\",\n                \"email\": \"titi@gmail.com\",\n                \"status\": \"online\",\n                \"display_name\": \"titi\",\n                \"avatar_url\": \"\\/public\\/storage\\/2_685cde6906c19_avatar.png\",\n                \"banner_url\": null,\n                \"bio\": \"\",\n                \"created_at\": \"2025-06-24 10:36:05\",\n                \"updated_at\": \"2025-06-24 10:36:05\"\n            },\n            {\n                \"id\": 1,\n                \"username\": \"kolinaw\",\n                \"discriminator\": \"6629\",\n                \"email\": \"kolin@gmail.com\",\n                \"status\": \"online\",\n                \"display_name\": \"kolina\",\n                \"avatar_url\": null,\n                \"banner_url\": \"\\/public\\/storage\\/1_685d04fe76011_banner.png\",\n                \"bio\": \"\",\n                \"created_at\": \"2025-06-24 10:09:45\",\n                \"updated_at\": \"2025-06-24 10:09:45\"\n            }\n        ],\n        \"pagination\": {\n            \"total\": 2,\n            \"page\": 1,\n            \"limit\": 10,\n            \"pages\": 1\n        }\n    }\n}","controller":"AdminController","uri":"/api/admin/users","data_keys":["users","pagination"]}
[2025-06-26 10:46:26] DEBUG [20a8e7] Controller instantiated - Context: {"controller":"AdminController","request_uri":"/api/admin/users/2/toggle-ban","request_method":"POST","is_ajax":"yes"}
[2025-06-26 10:46:26] DEBUG [20a8e7] AdminController: toggleUserBan called - Context: {"user_id":2,"request_method":"POST","request_uri":"/api/admin/users/2/toggle-ban","is_ajax":"yes","is_api":"yes"}
[2025-06-26 10:46:26] DEBUG [20a8e7] Connecting to database - Context: {"host":"localhost","port":"1003","database":"misvord","charset":"utf8mb4"}
[2025-06-26 10:46:26] INFO [20a8e7] Database connected successfully - Context: {"database":"misvord"}
[2025-06-26 10:46:26] DEBUG [20a8e7] DB Query: SELECT * FROM users WHERE  id = ? LIMIT 1 - Duration: 51.15ms - Context: {"bindings":[2],"found":true,"db_query":"SELECT * FROM users WHERE  id = ? LIMIT 1","db_duration":0.051149845123291016}
[2025-06-26 10:46:26] INFO [20a8e7] AdminController: Toggling user status - Context: {"user_id":2,"current_status":"online","new_status":"banned"}
[2025-06-26 10:46:26] DEBUG [20a8e7] UserRepository: Updating user - Context: {"user_id":2,"data":{"status":"banned"}}
[2025-06-26 10:46:26] DEBUG [20a8e7] Connecting to database - Context: {"host":"localhost","port":"1003","database":"misvord","charset":"utf8mb4"}
[2025-06-26 10:46:26] INFO [20a8e7] Database connected successfully - Context: {"database":"misvord"}
[2025-06-26 10:46:26] DEBUG [20a8e7] UserRepository: Update result - Context: {"user_id":2,"result":1,"affected_rows":1}
[2025-06-26 10:46:26] DEBUG [20a8e7] Connecting to database - Context: {"host":"localhost","port":"1003","database":"misvord","charset":"utf8mb4"}
[2025-06-26 10:46:26] INFO [20a8e7] Database connected successfully - Context: {"database":"misvord"}
[2025-06-26 10:46:26] WARNING [20a8e7] Activity logs table does not exist, skipping activity logging
[2025-06-26 10:46:26] DEBUG [20a8e7] AdminController: User status updated successfully - Context: {"user_id":2,"new_status":"banned","response":{"user_id":2,"status":"banned"}}
[2025-06-26 10:46:26] DEBUG [20a8e7] API Response sent - Context: {"structure":"{\n    \"success\": true,\n    \"timestamp\": \"2025-06-26 10:46:26\",\n    \"message\": \"User has been banned successfully\",\n    \"data\": {\n        \"user_id\": 2,\n        \"status\": \"banned\"\n    }\n}","controller":"AdminController","uri":"/api/admin/users/2/toggle-ban","data_keys":["user_id","status"]}
[2025-06-26 10:46:31] DEBUG [7a2514] Controller instantiated - Context: {"controller":"AdminController","request_uri":"/api/admin/users/2/toggle-ban","request_method":"POST","is_ajax":"yes"}
[2025-06-26 10:46:31] DEBUG [7a2514] AdminController: toggleUserBan called - Context: {"user_id":2,"request_method":"POST","request_uri":"/api/admin/users/2/toggle-ban","is_ajax":"yes","is_api":"yes"}
[2025-06-26 10:46:31] DEBUG [7a2514] Connecting to database - Context: {"host":"localhost","port":"1003","database":"misvord","charset":"utf8mb4"}
[2025-06-26 10:46:31] INFO [7a2514] Database connected successfully - Context: {"database":"misvord"}
[2025-06-26 10:46:31] DEBUG [7a2514] DB Query: SELECT * FROM users WHERE  id = ? LIMIT 1 - Duration: 46.93ms - Context: {"bindings":[2],"found":true,"db_query":"SELECT * FROM users WHERE  id = ? LIMIT 1","db_duration":0.04693198204040527}
[2025-06-26 10:46:31] INFO [7a2514] AdminController: Toggling user status - Context: {"user_id":2,"current_status":"banned","new_status":"active"}
[2025-06-26 10:46:31] DEBUG [7a2514] UserRepository: Updating user - Context: {"user_id":2,"data":{"status":"active"}}
[2025-06-26 10:46:31] DEBUG [7a2514] Connecting to database - Context: {"host":"localhost","port":"1003","database":"misvord","charset":"utf8mb4"}
[2025-06-26 10:46:31] INFO [7a2514] Database connected successfully - Context: {"database":"misvord"}
[2025-06-26 10:46:31] DEBUG [7a2514] UserRepository: Update result - Context: {"user_id":2,"result":1,"affected_rows":1}
[2025-06-26 10:46:31] DEBUG [7a2514] Connecting to database - Context: {"host":"localhost","port":"1003","database":"misvord","charset":"utf8mb4"}
[2025-06-26 10:46:31] INFO [7a2514] Database connected successfully - Context: {"database":"misvord"}
[2025-06-26 10:46:31] WARNING [7a2514] Activity logs table does not exist, skipping activity logging
[2025-06-26 10:46:31] DEBUG [7a2514] AdminController: User status updated successfully - Context: {"user_id":2,"new_status":"active","response":{"user_id":2,"status":"active"}}
[2025-06-26 10:46:31] DEBUG [7a2514] API Response sent - Context: {"structure":"{\n    \"success\": true,\n    \"timestamp\": \"2025-06-26 10:46:31\",\n    \"message\": \"User has been unbanned successfully\",\n    \"data\": {\n        \"user_id\": 2,\n        \"status\": \"active\"\n    }\n}","controller":"AdminController","uri":"/api/admin/users/2/toggle-ban","data_keys":["user_id","status"]}
